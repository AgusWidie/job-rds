@model IEnumerable<WebBarangBukti.Models.HdBarangBukti>

@{
    ViewData["Title"] = "Home Page";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <!-- Content Header (Page header) -->
    <section class="content-header">
        <div class="container-fluid">
            <div class="row mb-2">
                <div class="col-sm-6">
                    <h1></h1>
                </div>
                <div class="col-sm-6">
                    <ol class="breadcrumb float-sm-right">
                        <li class="breadcrumb-item"><a href="#">Detail Barang Bukti</a></li>
                        <li class="breadcrumb-item active">Index</li>
                    </ol>
                </div>
            </div>
        </div><!-- /.container-fluid -->
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-2">
                    @await Html.PartialAsync("_MenuSettings")
                </div>
                <!-- /.col -->

                <div class="col-md-10">
                    <div class="card">
                        <div class="card-body">
                            <div class="row mt-0 me-3 ms-3">
                                <div class="col-6">
                                    <label for="inputText" class="col-sm-5 col-form-label" style="font-size: 16px;">No Registrasi</label>
                                    <div class="input-group input-group-outline">
                                        <input type="text" id="NoRegistrasi" class="multisteps-form__input form-control" value="@Model.FirstOrDefault().NoRegistrasi" style="font-size: 16px;" disabled>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <label for="inputText" class="col-sm-5 col-form-label" style="font-size: 16px;">No BAP Penyitaan</label>
                                    <div class="input-group input-group-outline">
                                        <input type="text" id="NoBAPPenyitaan" class="multisteps-form__input form-control" value="@Model.FirstOrDefault().NoBapPenyitaan" style="font-size: 16px;" disabled>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <label for="inputText" class="col-sm-5 col-form-label" style="font-size:16px;">No Perkara</label>
                                    <div class="input-group input-group-outline">
                                        <input type="text" id="NoPerkara" class="multisteps-form__input form-control" value="@Model.FirstOrDefault().NoPerkara" style="font-size: 16px;" disabled>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <label for="inputText" class="col-sm-5 col-form-label" style="font-size:16px;">No Sprint Penyitaan</label>
                                    <div class="input-group input-group-outline">
                                        <input type="text" id="NoSprintPenyitaan" class="multisteps-form__input form-control" value="@Model.FirstOrDefault().NomorSprintPenyitaan" style="font-size: 16px;" disabled>
                                    </div>
                                </div>
                                <div class="col-6">
                                    @{
                                        string tglWaktuPenyerahan = "";
                                        if (Model.FirstOrDefault().TanggalWaktuPenyerahan != null)
                                        {
                                            tglWaktuPenyerahan = Convert.ToDateTime(Model.FirstOrDefault().TanggalWaktuPenyerahan).ToString("yyyy-MM-dd");
                                        }
                                    }
                                    <label for="inputText" class="col-sm-5 col-form-label" style="font-size:16px;">Tanggal Penyerahan</label>
                                    <div class="input-group input-group-outline">
                                        <input type="text" id="TanggalPenyerahan" class="multisteps-form__input form-control" value="@tglWaktuPenyerahan" style="font-size: 16px;" disabled>
                                    </div>
                                </div>
                                <div class="col-6">
                                    <label for="inputText" class="col-sm-5 col-form-label" style="font-size:16px;">Disita Dari</label>
                                    <div class="input-group input-group-outline">
                                        <input type="text" id="DisitaDari" class="multisteps-form__input form-control" value="@Model.FirstOrDefault().DisitaDari" style="font-size: 16px;" disabled>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <label for="inputText" class="col-sm-5 col-form-label" style="font-size:16px;">Instansi</label>
                                    <div class="input-group input-group-outline">
                                        <input type="text" id="Instansi" class="multisteps-form__input form-control" value="@Model.FirstOrDefault().Instansi" style="font-size: 16px;" disabled>
                                    </div>
                                </div>

                                <div class="col-6">
                                    <label for="inputText" class="col-sm-5 col-form-label" style="font-size:16px;">File</label>
                                    <div class="input-group input-group-outline">
                                       @*  <input type="text" id="File" class="multisteps-form__input form-control" style="font-size: 14px;" disabled> *@
                                        <a href="#" onclick="GetPreviewFile('@Model.FirstOrDefault().IdHdBarangBukti','@Model.FirstOrDefault().Extension');">@Model.FirstOrDefault().FileName</a>
                                    </div>
                                    
                                </div>
                                    
                                <div class="col-6">
                                    <label for="inputText" class="col-sm-5 col-form-label" style="font-size:16px;">Keterangan</label>
                                    <div class="input-group input-group-outline">
                                        <textarea id="Keterangan" class="multisteps-form__input form-control" style="font-size: 16px; width: 220px; height: 80px;" disabled>@Model.FirstOrDefault().Keterangan</textarea>
                                    </div>
                                    
                                </div>
                               
                            </div>
                            <br />
                        </div>
                        
                        <div class="card-header p-2">
                            <button type="button" class="btn btn-siram ml-3" onclick="modalAddDetailBarangBukti();">Tambah Detail Barang Bukti</button><button type="button" title="Refresh" class="btn btn-siram ml-3" onclick="RefreshDataDetailBarangBukti();" style="text-align: right;"><i class="fa fa-refresh"></i>&nbsp; Refresh</button><button type="button" title="Back" class="btn btn-siram ml-3" onclick="history.back()" style="text-align: right;"><i class="fa fa-reply"></i>&nbsp; Back</button>
                        </div><!-- /.card-header -->
                        <div class="card-body">
                            <input type="hidden" class="form-control" id="IdHdBarbuk" name="IdHdBarangBukti" value="@Model.FirstOrDefault().IdHdBarangBukti">
                            <table id="tblDetailBarangBukti" class="table table-bordered table-striped" aria-describedby="example1_info" style="overflow-x:auto;">
                                <thead>
                                    <tr>
                                        <th>Aksi</th>
                                        <th>Id Barang</th>
                                        <th>Nama Barang Bukti</th>
                                        <th>Identitas</th>
                                        <th>Kondisi</th>
                                        <th>Jumlah</th>
                                        <th>Status Eksekusi</th>
                                        <th>Status Akhir</th>
                                        <th>File</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    
                                </tbody>

                            </table>

                        </div><!-- /.card-body -->
                    </div>
                    <!-- /.card -->
                </div>
                <!-- /.col -->
            </div>
            <!-- /.row -->
        </div><!-- /.container-fluid -->
    </section>
    <!-- /.content -->

    <!-- Modal -->
    <div class="modal fade" id="CreateDetailBarangBukti">
        <div class="modal-dialog modal-lg">
            <form asp-controller="DtBarangBukti" asp-action="CreateDetailBarangBukti" method="post" enctype="multipart/form-data">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Tambah Detail Barang Bukti</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" class="form-control" id="IdHdBarangBukti" name="IdHdBarangBukti">
                        <div class="form-group row">
                            <label for="input-document_type_name" class="col-sm-4 col-form-label">Nama Barang Bukti</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="NamaBarangBukti" name="NamaBarangBukti" placeholder="Nama Barang Bukti" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">Identitas</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="Identitas" name="Identitas" placeholder="Identitas">
                            </div>
                        </div>
                       
                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">Kondisi</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="Kondisi" name="Kondisi" placeholder="Kondisi">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">Jumlah</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="Jumlah" name="Jumlah" placeholder="Jumlah">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">Status Eksekusi</label>
                            <div class="col-sm-8">
                                <select id="StatusEksekusi" name="StatusEksekusi" asp-items="(IEnumerable<SelectListItem>)@ViewBag.StatusEksekusi" onchange="onChangeStatusEksekusi();" class="form-control"></select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">Status Akhir</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="StatusAkhir" name="StatusAkhir" readonly>
                                @* <select id="StatusAkhir" name="StatusAkhir" asp-items="(IEnumerable<SelectListItem>)@ViewBag.StatusAkhir" class="form-control"></select> *@
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">File</label>
                            <div class="col-sm-8">
                                <input type="file" name="files">
                                <span for="FileUpload FormFile"></span>
                            </div>
                        </div>
                     
                    </div>
                    <div class="modal-footer justify-content-between">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-siram ml-3">Save</button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </form>
        </div>
        <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->
    <!-- Modal -->
    <div class="modal fade" id="UpdateDetailBarangBukti">
        <div class="modal-dialog modal-lg">
            <form asp-controller="DtBarangBukti" asp-action="UpdateDetailBarangBukti" method="post" enctype="multipart/form-data">
                <div class="modal-content">
                    <div class="modal-header">
                        <h4 class="modal-title">Edit Barang Bukti</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <input type="hidden" class="form-control" id="Id" name="Id">
                        <input type="hidden" class="form-control" id="IdHdBarangBuktiEdit" name="IdHdBarangBukti">
                        <div class="form-group row">
                            <label for="input-document_type_name" class="col-sm-4 col-form-label">Nama Barang Bukti</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="NamaBarangBukti1" name="NamaBarangBukti" placeholder="Nama Barang Bukti" required>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">Identitas</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="Identitas1" name="Identitas" placeholder="Identitas">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">Kondisi</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="Kondisi1" name="Kondisi" placeholder="Kondisi">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">Jumlah</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="Jumlah1" name="Jumlah" placeholder="Jumlah">
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">Status Eksekusi</label>
                            <div class="col-sm-8">
                                <select id="StatusEksekusi1" name="StatusEksekusi" asp-items="(IEnumerable<SelectListItem>)@ViewBag.StatusEksekusi" class="form-control" onchange="onChangeStatusEksekusiEdit();"></select>
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">Status Akhir</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" id="StatusAkhir1" name="StatusAkhir" readonly>
                               @*  <select id="StatusAkhir1" name="StatusAkhir" asp-items="(IEnumerable<SelectListItem>)@ViewBag.StatusAkhir" class="form-control"></select> *@
                            </div>
                        </div>
                        <div class="form-group row">
                            <label for="input-description" class="col-sm-4 col-form-label">File</label>
                            <div class="col-sm-8">
                                <input type="file" name="files">
                                <span for="FileUpload FormFile"></span>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer justify-content-between">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-siram ml-3">Update</button>
                    </div>
                </div>
                <!-- /.modal-content -->
            </form>
        </div>
        <!-- /.modal-dialog -->

        <div class="modal fade" id="PreviewFilePDF" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Preview File</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div id="pdf_container">
                        </div>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /.modal -->
</div>
<!-- /.content-wrapper -->

<link href="~/content/select2.min.css" rel="stylesheet">
<script src="~/content/select2.min.js"></script>

<link href="~/content/select2/select2-bootstrap.css" rel="stylesheet">
<link href="~/content/select2/select2.min.css" rel="stylesheet">
<script src="~/content/select2/select2.full.js"></script>

<link href="~/adminlte/plugins/sweetalert2/sweetalert2.min.css" rel="stylesheet">
<script src="~/adminlte/plugins/sweetalert2/sweetalert2.min.js"></script>

<script type="text/javascript" src="~/template/js/pdf.min.js"></script>
@* <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.6.0/fabric.min.js"></script> *@

<script src="~/template/js/fabric.min.js"></script>
<script src="~/template/js/jspdf.umd.min.js"></script>
<script src="~/template/js/run_prettify.js"></script>

<script src="~/template/js/arrow.fabric.js"></script>
<script src="~/template/js/pdfannotate.js"></script>
<script src="~/template/js/script.js"></script>
<link href="~/template/css/prettify.min.css" rel="stylesheet">

<link rel="stylesheet" href="~/template/css/styles.css">
<link rel="stylesheet" href="~/template/css/pdfannotate.css">

<link href="~/template/css/pdf_viewer.min.css" rel="stylesheet" type="text/css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/mammoth/1.4.2/mammoth.browser.min.js"></script>

<script>

    $(function() {
        // var dtTableDetailBarangBukti = $("#tblDetailBarangBukti").DataTable({

        //       "responsive": true, 
        //       "lengthChange": true, 
        //       "autoWidth": true, 
        //       "scrollX": true,
        //       "sScrollXInner": "160%",
        //       "fixedHeader": true,
        //       columnDefs: [
        //               {
        //                    width: 120,
        //                    targets: [0],
        //                    className: 'text-center'

        //               },
        //               {
        //                   autoWidth: true,
        //                   targets: [1, 2, 3, 4, 5, 6, 7, 8],
        //                   className: 'text-center'

        //               }
        //        ],
        //       "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
        // });

        var messageSuccess = '@TempData["MessageSuccessDetailBarbuk"]';
        var messageError = '@TempData["MessageErrorDetailBarbuk"]';
         
        if(messageSuccess != null && messageSuccess != "") {
                Swal.fire({
                    title: "Data Barang Bukti",
                    text: messageSuccess,
                    icon: "success"
                });
              
        }

        if(messageError != null && messageError != "") {
                Swal.fire({
                    title: "Data Barang Bukti",
                    text: messageError,
                    icon: "warning"
                });

        }
    });

    // $("#StatusEksekusi").select2({
    //     placeholder: "",
    //     width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
    //     dropdownParent: $("#CreateDetailBarangBukti"),
    // });

    //  $("#StatusEksekusi1").select2({
    //     placeholder: "",
    //     width: $(this).data('width') ? $(this).data('width') : $(this).hasClass('w-100') ? '100%' : 'style',
    //     dropdownParent: $("#UpdateDetailBarangBukti"),
    // });

    function SetValueForSelect2(SelectId, Value) {
        $("#" + SelectId).val(Value).trigger("change");
    }

    function modalAddDetailBarangBukti() {

        document.getElementById("IdHdBarangBukti").value = document.getElementById("IdHdBarbuk").value;
        $('#CreateDetailBarangBukti').modal({
            backdrop: 'static',
            keyboard: false
        });
        $('#CreateDetailBarangBukti').modal('show');

    }

    GetDetailBarangBukti();
    function GetDetailBarangBukti(){

        var IdHdBarangBukti = document.getElementById("IdHdBarbuk").value;
        var dtTableDetailBarangBukti = $("#tblDetailBarangBukti").DataTable({
              "processing": true, // for show progress bar,
               retrieve: true,
              "scrollX": true,
              "sScrollXInner": "100%",
              "fixedHeader": true,
              columnDefs: [
                      {
                           width: 80,
                           targets: [0],
                           className: 'text-center'

                      },
                      {
                          autoWidth: true,
                          targets: [1, 2, 3, 4, 5, 6, 7],
                          className: 'text-center'

                      },
                      {
                          width: 40,
                          targets: [ 8],
                          className: 'text-center'

                      }
               ],
              "buttons": ["copy", "csv", "excel", "pdf", "print", "colvis"]
        });

        $.ajax({
            type: "GET",
            url: "@Url.Action("GetDataDetailBarangBukti", "DtBarangBukti")",
            data: { IdHdBarangBukti: IdHdBarangBukti },
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {

                if(data.error == false) {

                    // var data_convert = toSnakeCase(JSON.stringify(data.res));
                    // var data_object = JSON.parse(data_convert);
                  
                    //alert(JSON.stringify(data.res));
                    var action = "";
                    dtTableDetailBarangBukti.clear();
                    $('#tblDetailBarangBukti thead th').css('text-align', 'center');

                    for (var i = 0; i <= data.res.length; i++) {

                        action = "";
                        var Id = data.res[i].id.toString();
                        var IdDtBarangBukti = data.res[i].idDtBarangBukti;
                        var NamaBarangBukti = data.res[i].namaBarangBukti;
                        var Identitas = data.res[i].identitas;
                        var Kondisi = data.res[i].kondisi;
                        var Jumlah = data.res[i].jumlah;
                        var StatusEksekusi = data.res[i].statusEksekusi;
                        var StatusAkhir = data.res[i].statusAkhir;
                        var File = data.res[i].fileName;

                        var actionPreviewFile = '<button type="button" title="Preview File" class="btn btn-sm btn-info" onclick="GetPreviewFileDetail(\'' + IdDtBarangBukti + '\')"><i class="fa fa-eye"></i></button>'
                        action = '<button type="button" title="Edit Barang Bukti" class="btn btn-warning" onclick="editDetailBarangBukti(\'' + Id + '\',\'' + NamaBarangBukti + '\',\'' + Identitas + '\',\'' + Kondisi + '\',\'' + Jumlah + '\',\'' + StatusEksekusi + '\',\'' + StatusAkhir + '\');"><i class="fa fa-edit"></i></button> '
                        dtTableDetailBarangBukti.row.add([action, IdDtBarangBukti, NamaBarangBukti, Identitas, Kondisi, Jumlah, StatusEksekusi, StatusAkhir, actionPreviewFile]).draw();
                    }

                } else {

                    dtTableDetailBarangBukti.clear();
                    dtTableDetailBarangBukti.draw();
                }

            },
            error: function (error) { },
        });
    }

    function editDetailBarangBukti(id, nama, identitas, kondisi, jumlah, statusEksekusi, statusAkhir) {

        document.getElementById("Id").value = id;
        document.getElementById("IdHdBarangBuktiEdit").value = document.getElementById("IdHdBarbuk").value;
        document.getElementById("NamaBarangBukti1").value = nama;
        document.getElementById("Identitas1").value = identitas;
        document.getElementById("Kondisi1").value = kondisi;
        document.getElementById("Jumlah1").value = jumlah;
        document.getElementById("StatusEksekusi1").value = statusEksekusi;
        document.getElementById("StatusAkhir1").value = statusAkhir;

        //SetValueForSelect2("StatusEksekusi1", "" + statusEksekusi + "");
        //SetValueForSelect2("StatusAkhir1", "" + statusAkhir + "");

        $('#UpdateDetailBarangBukti').modal({
            backdrop: 'static',
            keyboard: false
        });
        $('#UpdateDetailBarangBukti').modal('show');
    }

    var pdfjsLib = window['pdfjs-dist/build/pdf'];
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.worker.min.js';

    var pdfDoc = null;
    var scale = 1.8; //Set Scale for zooming PDF.
    var resolution = 1; //Set Resolution to Adjust PDF clarity.


    function GetPreviewFile(IdHdBarangBukti, Extention)
    {

        $.ajax({
            type: "GET",
            url: "@Url.Action("PreviewFile", "HdBarangBukti")",
            data: { IdHdBarangBukti: IdHdBarangBukti},
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {

                //alert(JSON.stringify(data));

                openFile(data.res.base64File, data.res.contentType, Extention);
            },
            error: function (error) { },
        });
    }

    function GetPreviewFileDetail(IdDtBarangBukti)
    {

        $.ajax({
            type: "GET",
            url: "@Url.Action("PreviewFile", "DtBarangBukti")",
            data: { IdDtBarangBukti: IdDtBarangBukti},
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (data) {

                //alert(JSON.stringify(data.res.base64File));

                openFile(data.res.base64File, data.res.contentType, data.res.extension);
            },
            error: function (error) { },
        });
    }

    function openFile(base64, content_type, extention) {

        const arrayBuffer = base64ToArrayBuffer(base64);
        const blob = new Blob([arrayBuffer], { type: '' + content_type + ''});
        const url = window.URL.createObjectURL(blob);

        window.open(url, '_blank');

        // LoadPdfFromUrl(url);

        // $('#PreviewFilePDF').modal({
        //     backdrop: 'static',
        //     keyboard: false
        // });
        // $('#PreviewFilePDF').modal('show');

    }

    function base64ToArrayBuffer(base64) {

        const binaryString =  window.atob(base64);
        const binaryLen = binaryString.length;
        const bytes = new Uint8Array(binaryLen);
        for (let i = 0; i < binaryLen; i++)        {
            const ascii = binaryString.charCodeAt(i);
            bytes[i] = ascii;
        }
        return bytes;
    }

     function LoadPdfFromUrl(url) {

        while (pdf_container.hasChildNodes()) {
                pdf_container.removeChild(pdf_container.firstChild);
        }
        //Read PDF from URL.
        pdfjsLib.getDocument(url).promise.then(function (pdfDoc_) {
            pdfDoc = pdfDoc_;

            //Reference the Container DIV.
            var pdf_container = document.getElementById("pdf_container");
            pdf_container.style.display = "block";

            //Loop and render all pages.
            for (var i = 1; i <= pdfDoc.numPages; i++) {
                RenderPage(pdf_container, i);
            }
        });
    };

    function RenderPage(pdf_container, num) {
        pdfDoc.getPage(num).then(function (page) {
            //Create Canvas element and append to the Container DIV.
            var canvas = document.createElement('canvas');
            canvas.id = 'pdf-' + num;
            ctx = canvas.getContext('2d');
            pdf_container.appendChild(canvas);

            //Create and add empty DIV to add SPACE between pages.
            var spacer = document.createElement("div");
            spacer.style.height = "25px";
            spacer.style.width = "600px";
            pdf_container.appendChild(spacer);

            //Set the Canvas dimensions using ViewPort and Scale.
            var viewport = page.getViewport({ scale: scale });
            canvas.height = resolution * viewport.height;
            canvas.width = resolution * viewport.width;

            //Render the PDF page.
            var renderContext = {
                canvasContext: ctx,
                viewport: viewport,
                transform: [resolution, 0, 0, resolution, 0, 0]
            };

            page.render(renderContext);
        });
    };

    function onChangeStatusEksekusi() {
        document.getElementById("StatusAkhir").value = document.getElementById("StatusEksekusi").value;
    }

    function onChangeStatusEksekusiEdit() {
        document.getElementById("StatusAkhir1").value = document.getElementById("StatusEksekusi1").value;
    }

    function RefreshDataDetailBarangBukti()
    {
        location.reload();
    }

    const toSnakeCase = (str) => {
          if (!str) return "";
          const regex =
            /[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g;
          return str
            .match(regex)
            .map((x) => x.toLowerCase())
            .join("_");
    };
    
</script>
